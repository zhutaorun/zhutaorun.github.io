<!DOCTYPE html>
<html lang="zh-Hans">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="zhutaorun" />


    
    


<meta property="og:type" content="website">
<meta property="og:title" content="zhutaorun's Blog">
<meta property="og:url" content="http://zhutaorun.win/page/2/index.html">
<meta property="og:site_name" content="zhutaorun's Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zhutaorun's Blog">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="zhutaorun&#39;s Blog" type="application/atom+xml">



    <link rel="shortcut icon" href="/img/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>zhutaorun&#39;s Blog</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>





    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?925b283002cdaa5eb0c0a14c5135593c";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>


</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">zhutaorun</a></h1>
        </hgroup>

        
        <p class="header-subtitle">迈入新世界，为了成为有保持乐趣的Unity客户端</p>
        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/friends/">友情链接</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="/zhutaorun@gmail.com" title="Email"></a>
                            
                                <a class="fa 新浪微博" href="http://weibo.com/u/2409097900/" title="新浪微博"></a>
                            
                                <a class="fa GitHub" href="https://github.com/zhutaorun" title="GitHub"></a>
                            
                                <a class="fa 知乎" href="https://www.zhihu.com/people/zhutaorun" title="知乎"></a>
                            
                                <a class="fa CSDN" href="https://blog.csdn.net/u011611902" title="CSDN"></a>
                            
                                <a class="fa 微信" href="/peter-zhutao" title="微信"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lua/">Lua</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lua-面向对象编程/">Lua 面向对象编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity3D/">Unity3D</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity3D-优化/">Unity3D 优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity3D优化/">Unity3D优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity3d/">Unity3d</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unity3d/">unity3d</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/习惯养成/">习惯养成</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/介绍/">介绍</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工作反思/">工作反思</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工作反思-帧同步/">工作反思 帧同步</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工具/">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工具类-效率提升/">工具类 效率提升</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/思考/">思考</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/拆书帮/">拆书帮</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/架构/">架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/游戏测试/">游戏测试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算系统/">计算系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/读书笔记/">读书笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随笔/">随笔</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.luzexi.com/">技术人生 Jesse</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://www.cnblogs.com/zhaoqingqing">赵青青的博客</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于游戏开发</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">zhutaorun</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">zhutaorun</a></h1>
            </hgroup>
            
            <p class="header-subtitle">迈入新世界，为了成为有保持乐趣的Unity客户端</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/friends/">友情链接</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="/zhutaorun@gmail.com" title="Email"></a>
                            
                                <a class="fa 新浪微博" target="_blank" href="http://weibo.com/u/2409097900/" title="新浪微博"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/zhutaorun" title="GitHub"></a>
                            
                                <a class="fa 知乎" target="_blank" href="https://www.zhihu.com/people/zhutaorun" title="知乎"></a>
                            
                                <a class="fa CSDN" target="_blank" href="https://blog.csdn.net/u011611902" title="CSDN"></a>
                            
                                <a class="fa 微信" target="_blank" href="/peter-zhutao" title="微信"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-关于项目优化杂谈" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/12/01/关于项目优化杂谈/" class="article-date">
      <time datetime="2019-12-01T03:41:56.000Z" itemprop="datePublished">2019-12-01</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/12/01/关于项目优化杂谈/">关于项目优化杂谈</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <blockquote>
<p>在已经过去的两个月中花了3周，总结了下龙2中的优化内容，目标是为了新的项目做前期的规划；涉及相关的项目中细节内容，不详说，说下哪些可以规避的问题</p>
</blockquote>
<h2 id="一-工具类开发"><a href="#一-工具类开发" class="headerlink" title="一.工具类开发"></a>一.工具类开发</h2><p>1.查找重复或冗余未使用的资源<br>2.查找超过1024尺寸的图片工具并加入每日检查<br>3.添加对于资源检查的工具<br>对于美术资源的检测，对于资源的规范性的检测，可以减少一些资源是否合理的检测代码。<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/优化-技术积累/">优化 技术积累</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity3d/">Unity3d</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2019/12/01/关于项目优化杂谈/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Unity里实现Hook函数" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/08/07/Unity里实现Hook函数/" class="article-date">
      <time datetime="2019-08-07T15:38:23.000Z" itemprop="datePublished">2019-08-07</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/07/Unity里实现Hook函数/">Unity里实现Hook函数</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h3 id="一-什么是钩子函数？"><a href="#一-什么是钩子函数？" class="headerlink" title="一.什么是钩子函数？"></a>一.什么是钩子函数？</h3><p>先来看一段百科：钩子函数是Windows消息处理机制的一部分，通过设置“钩子”，应用程序可以在系统级对所有消息、事件进行过滤，访问在正常情况下无法访问的消息。钩子的本质是一段用以处理系统消息的程序，通过系统调用，把它挂入系统。<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术积累/">技术积累</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity3D/">Unity3D</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2019/08/07/Unity里实现Hook函数/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-游戏同步" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/06/12/游戏同步/" class="article-date">
      <time datetime="2019-06-12T02:14:42.000Z" itemprop="datePublished">2019-06-12</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/12/游戏同步/">游戏同步</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <blockquote>
<p>早上在翻个人博客文件夹的时候，发现这篇18年10月30日写完的，再去翻了个人博客里，确实没发出来。随便把当时写的手稿也发上来。</p>
</blockquote>
<h3 id="游戏同步：帧同步和状态同步"><a href="#游戏同步：帧同步和状态同步" class="headerlink" title="游戏同步：帧同步和状态同步"></a>游戏同步：帧同步和状态同步</h3><h5 id="帧同步：服务器负责转化客户端的操作，每个客户端在固定的逻辑帧执行该帧所有客户端的操作命令，通过在严格一致的时间轴上执行同样的命令序列得到同样的结果。主流的老牌RTS游戏都是帧同步：星际争霸、war3"><a href="#帧同步：服务器负责转化客户端的操作，每个客户端在固定的逻辑帧执行该帧所有客户端的操作命令，通过在严格一致的时间轴上执行同样的命令序列得到同样的结果。主流的老牌RTS游戏都是帧同步：星际争霸、war3" class="headerlink" title="帧同步：服务器负责转化客户端的操作，每个客户端在固定的逻辑帧执行该帧所有客户端的操作命令，通过在严格一致的时间轴上执行同样的命令序列得到同样的结果。主流的老牌RTS游戏都是帧同步：星际争霸、war3"></a>帧同步：服务器负责转化客户端的操作，每个客户端在固定的逻辑帧执行该帧所有客户端的操作命令，通过在严格一致的时间轴上执行同样的命令序列得到同样的结果。主流的老牌RTS游戏都是帧同步：星际争霸、war3</h5><h5 id="状态同步：服务器承载所有计算，客户端只做表现。主流的大型MMO游戏都采用状态同步。"><a href="#状态同步：服务器承载所有计算，客户端只做表现。主流的大型MMO游戏都采用状态同步。" class="headerlink" title="状态同步：服务器承载所有计算，客户端只做表现。主流的大型MMO游戏都采用状态同步。"></a>状态同步：服务器承载所有计算，客户端只做表现。主流的大型MMO游戏都采用状态同步。</h5>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术积累/">技术积累</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity3D/">Unity3D</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2019/06/12/游戏同步/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-关于动画结束的处理" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/05/04/关于动画结束的处理/" class="article-date">
      <time datetime="2019-05-04T15:03:50.000Z" itemprop="datePublished">2019-05-04</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/04/关于动画结束的处理/">关于动画结束的处理</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <blockquote>
<p>一时兴起，写了这一篇文章。在实际开发中为了更好的表现，需要在一段动画播放后，再做别的行为</p>
<p>这篇文章3月6日开始定题，3月22日写完初稿，5月4日再补充一点，今天发布。</p>
</blockquote>
<h3 id="一-不同的动画组件"><a href="#一-不同的动画组件" class="headerlink" title="一.不同的动画组件"></a>一.不同的动画组件</h3><ol>
<li>动画美术直接编辑动画，定位到要变化挂点的帧（比如24帧），在Events里添加一个动画事件， 名字规范成 TakeWeapon</li>
</ol>
<p><img src="https://raw.githubusercontent.com/zhutaorun/zhutaorun.github.io/master/images/50.png" alt=""><br>这个方案</p>
<p>优：让美术准确控制帧数， 可以个性化<br>劣：所有模型该动作都要加一下。<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/工作反思/">工作反思</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity3d/">Unity3d</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2019/05/04/关于动画结束的处理/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-帧同步的逻辑工程维护" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/02/03/帧同步的逻辑工程维护/" class="article-date">
      <time datetime="2019-02-03T03:52:33.000Z" itemprop="datePublished">2019-02-03</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/03/帧同步的逻辑工程维护/">帧同步的逻辑工程维护</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <blockquote>
<p>目前在做其他项目，之前维护接近一个月的逻辑工程，觉得写点什么才能对的起这段时光。当然来说，我也觉得做的不够好。既有经验的问题，也有在思考需求的不明确。在时间紧迫情况下，会有动作变形。</p>
</blockquote>
<h3 id="一-接手前的状况"><a href="#一-接手前的状况" class="headerlink" title="一.接手前的状况"></a>一.接手前的状况</h3><p>客户端主要逻辑逻辑是使用C#写，但是逻辑工程是把客户端中抽出了一些逻辑部分的内容，2月份才开始做了第一版本。当时已经到4月低的版本，中间更新能编译成功，但不清楚是否有效。</p>
<p>我接手的时候已经到6月初了。当时7月给腾讯的版本中，有一项内容是战后做逻辑验证。逻辑工程要保持更新到最新，要在服务端可以启用。<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术积累/">技术积累</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/工作反思-帧同步/">工作反思 帧同步</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2019/02/03/帧同步的逻辑工程维护/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-再谈优化" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/11/01/再谈优化/" class="article-date">
      <time datetime="2018-11-01T15:04:58.000Z" itemprop="datePublished">2018-11-01</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/01/再谈优化/">再谈优化</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <blockquote>
<p>之前项目的主程说优化口诀，优化就三样。算法优化，把CPU的事情放到GPU,都不行了就开多线程干。<br>经历目前这个项目的优化，加上看了一些UWA的文章。</p>
</blockquote>
<h3 id="一-优化的目的"><a href="#一-优化的目的" class="headerlink" title="一.优化的目的"></a>一.优化的目的</h3><p>对程序员来说，提高“性能”；性能是关于计算机所需花费的时间和内存空间占用，宏观上保持保持每一帧的流畅，最终目标是对给player优质的体验。<br>对于Ta和美术-自由发挥艺术设计的“空间”。 最终目标就是给Player视觉上“炫炫炫”。<br>对于运营和发行来说，就是更多地玩家同屏人数，服务器可承载更多的玩家。对于初始包体要很小。</p>
<h3 id="二-优化的背后知识体系"><a href="#二-优化的背后知识体系" class="headerlink" title="二.优化的背后知识体系"></a>二.优化的背后知识体系</h3><p>基础图形原理<br>计算机常用的算法和数据结构<br>对移动平台的硬件有充分了解（CPU，GPU，内存，I/O…）<br>对Unity在Mobile Device上的.net实现环境有所了解（mono or il2cpp)</p>
<h3 id="三-优化的效果指标"><a href="#三-优化的效果指标" class="headerlink" title="三.优化的效果指标"></a>三.优化的效果指标</h3><p>详细可以看到wetest给予各项指标图，wetest的unity深度测试。</p>
<p><img src="https://raw.githubusercontent.com/zhutaorun/zhutaorun.github.io/master/images/48.png" alt=""><br><img src="https://raw.githubusercontent.com/zhutaorun/zhutaorun.github.io/master/images/49.png" alt=""></p>
<h3 id="四-优化的工具"><a href="#四-优化的工具" class="headerlink" title="四.优化的工具"></a>四.优化的工具</h3><ul>
<li>wetest</li>
<li>uwa got tool</li>
<li>Profiler</li>
<li>Memory Profiler</li>
<li>Mali Graphics Debugger(基于Arm显卡的工具)</li>
<li>Snapdragon Profiler<h3 id="五-优化是一件坚持记录和对比的过程"><a href="#五-优化是一件坚持记录和对比的过程" class="headerlink" title="五.优化是一件坚持记录和对比的过程"></a>五.优化是一件坚持记录和对比的过程</h3>优化是可以看到这个团队在配合程度，只有前期很好制定了美术资源在不同的级别制作标准，才能在后期适配更多的手机。<br>记录当前版本的问题，毕竟改进的后数据记录。很多团队都选择用Excel来做记录。</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术积累/">技术积累</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity3D-优化/">Unity3D 优化</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-一个神奇的bug" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/09/16/一个神奇的bug/" class="article-date">
      <time datetime="2018-09-16T08:53:53.000Z" itemprop="datePublished">2018-09-16</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/09/16/一个神奇的bug/">一个神奇的bug</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <blockquote>
<p>项目是用帧同步做的项目，之前做了一点战斗相关的功能，对于帧同步有一些认识。</p>
<h3 id="一-宝箱对应的标识并没有消失"><a href="#一-宝箱对应的标识并没有消失" class="headerlink" title="一.宝箱对应的标识并没有消失"></a>一.宝箱对应的标识并没有消失</h3><p> 详细内容：接手新的空投改版任务，修改一个版本结束后，一直报第一圈第一个宝箱开启，场景中的模型消失，但对应的UI层的标识没有消失。</p>
</blockquote>
<p>跟着下来是FixVec3转Vector3,再转FixVec3。数值已经和之前的完全不一样的。</p>
<p><img src="https://raw.githubusercontent.com/zhutaorun/zhutaorun.github.io/master/images/47.png" alt=""></p>
<p>反思为嘛之前没有出现转换出现的这样的问题，之前设计是方形的作为基本使用，当然数值上也是加上一个整数。</p>
<p>现在引入扇形，需要进行正弦余弦计算，小数点后保留6位，在转换后出现数值差异。以上图可见第3位上出现数值不同。</p>
<p>思考，是否可以避免使用FixVec3作为key，看了之前的代码确实难以改动。解决方案就是在原来类中加FixVec3存一份作为key值使用。</p>
<h3 id="二-空投的模型，有莫名消失"><a href="#二-空投的模型，有莫名消失" class="headerlink" title="二.空投的模型，有莫名消失"></a>二.空投的模型，有莫名消失</h3><p>详细内容：一直觉得是UI上没清理对应的标识，觉得是AOI管理上，把对应的模型删除，但是没有确认。和做AOI模块的同事沟通，也觉得不受影响。后来在空投箱子销毁的地方加Log，看了下调用栈，确实在视野处理的时候，把空投宝箱的模型删除了。在加了空投宝箱的标识后，问题修复了。</p>
<p>当初设计空投宝箱的时候，AOI并没有使用，后来处理视野里可以见得内容，并没有把空投宝箱算进去</p>
<h3 id="三-总结反思"><a href="#三-总结反思" class="headerlink" title="三.总结反思"></a>三.总结反思</h3><p>1.测试功能，没想清楚，明明可以改配置，快速测试，实际花了很多时间在等待过程。<br>2.因为是接手别人的功能修改，加宏看log,但是他个人的log代码，没有提交，自己打log重新看，比较聪明的做法是直接要一份他的log代码<br>3.和策划沟通，需要二次确认，有时策划听内容的时候，但是有没有认真听，很难确定，后期修改的，幸好代码基本没啥改动量。<br>4.关于帧同步的项目做视图和逻辑分离，注意一些数值转换后并不能再使用了。<br>5.如果新的功能开发，还是需要去沟通是否影响现有功能的内容。AOI管理了场景中的实体，空投的实体并没有被管理到。在处理的时候就删除了。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术积累/">技术积累</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/工作反思-帧同步/">工作反思 帧同步</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-模型在UI上显示" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/05/31/模型在UI上显示/" class="article-date">
      <time datetime="2018-05-31T15:59:09.000Z" itemprop="datePublished">2018-05-31</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/31/模型在UI上显示/">模型在UI上显示</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <blockquote>
<p>接到的任务需求是在将3d模型的内容在UI上显示</p>
</blockquote>
<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>梳理了目前有3个种方式，当然没有好坏之分，只有合适与否。在开源项目中<a href="https://github.com/zhutaorun/SomeTips/tree/master/Assets/Scenes" target="_blank" rel="external">SomeTips的Scenes文件夹中</a>,加入3DUIWayNo1-3的场景，看到以上的实现方式。</p>
<h3 id="UI和场景的混合实现"><a href="#UI和场景的混合实现" class="headerlink" title="UI和场景的混合实现"></a>UI和场景的混合实现</h3><p>Camer是skyBox直接与UI混合。如果在放在UI节点下，因为在同一层级下，通过控制Z值设置前后的关系。</p>
<h3 id="RenderTexture"><a href="#RenderTexture" class="headerlink" title="RenderTexture"></a>RenderTexture</h3><p>使用Rendertexur,Camera单独照模型，摄像机的内容放到RenderTexure,在UI界面上放入Raw Image。要设置渲染层都为RenderTexture。<br>renderTexture的方式，可以满足在两个不同的层级之间的需求。问题是美术效果上，需求要对于效果做shader上处理。用Camera和原来的在Camer下有色差，以及如果涉及粒子特效。粒子的效果的衰减。也有研究自己写shader解决Alpha的问题。</p>
<p>原因在于默认的粒子效果使用到的shader中使用了ColorMask RGB,所以只有RGB三个通道的值被存入了缓冲，而没有写入A通道的值, 所以我们得到的texture其实没有粒子的alpha信息，由於使用了ZWrite Off,所以也沒有粒子的深度信息，当我们把这张纹理拿出来显示的时候，由于某些粒子所在位置alpha值为0，所以通过alpha预存得到的RGBA值是（0, 0, 0, 0），所以最后也就看不到颜色了。</p>
<p>对用的解决办法是将shader中的ColorMask RGB改为ColorMask RGBA，写入粒子的alpha信息就行了。</p>
<h3 id="Camera混合"><a href="#Camera混合" class="headerlink" title="Camera混合"></a>Camera混合</h3><p>使用多个摄像机混合，但要同时要求Camera都是深度模式，需要脚本去改变camera的depth值。另外渲染的camera的depeth要大于UICamera的。好处在于用的时候加载，在不用的时候就卸载了。方便自己的管理。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>自己项目中选择第三种，原因是在需要在不同的场景下打开，如果是美术效果最好，当然是单独场景最好。而且背景上有更大的美术发挥空间。问题在于场景Loading会有点奇怪，不合乎策划设计的初衷，体验上有转场的感受。<br>研究了下守望先锋的宝箱，其实在同一个场景里，切到了场景某个点，进行操作的，没有加载的过程。如果在场景某个点作为开启的位置，目前多个场景都要处理。带来更多的美术工作量。后期需要美术管理反而变多了。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术积累/">技术积累</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity3D/">Unity3D</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Unity中音效插件" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/05/04/Unity中音效插件/" class="article-date">
      <time datetime="2018-05-03T16:18:18.000Z" itemprop="datePublished">2018-05-04</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/04/Unity中音效插件/">Unity中音效插件</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <blockquote>
<p>这一篇文章是3月初开始写的初稿的，在听了公司邀请Wwise的人来演讲后，继续完善这篇文章。首发于(http:zhutaorun.win)</p>
</blockquote>
<h3 id="一-为什么使用第三的插件"><a href="#一-为什么使用第三的插件" class="headerlink" title="一.为什么使用第三的插件"></a>一.为什么使用第三的插件</h3><ul>
<li>因为unity本身做的音效系统做的不够好，对于了很多的声音效果确实没办法满足，需要更多复杂的效果原生满足不了</li>
<li>因为第三插件，让程序与音效师之间的配合更方便多了，原来的合作方式是程序需要很多的工作，而音效师能够发挥的空间有限，准确的说，Wwise提供了一套音效师与程序配合的流程</li>
<li>方案成熟，以Wwise为例，从事音效这块很多年，2000年公司成立，到2015年王者荣耀使用，很多项目选择使用，端游守望先锋
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术积累/">技术积累</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity3d/">Unity3d</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2018/05/04/Unity中音效插件/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-UWA-Day-2018分享" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/04/24/UWA-Day-2018分享/" class="article-date">
      <time datetime="2018-04-24T01:52:00.000Z" itemprop="datePublished">2018-04-24</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/04/24/UWA-Day-2018分享/">UWA-Day-2018分享</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <blockquote>
<p>4月21和22日在青松城酒店，参加uwa的大会。</p>
</blockquote>
<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>uwa作为在unity优化方向的专业团队，在支持各个公司的产品优化的基础上，也等到了一些很有意思的内容。<br><img src="https://github.com/zhutaorun/zhutaorun.github.io/blob/master/images/46.jpg?raw=true" alt=""><br>目前在使用uwa的unity版本分布情况，目前主要使用的版本还是5.3-5.6居多<br>还有游戏类型也有不同的变化，有卡牌三消=》arpg=》moba=》沙盒游戏（吃鸡等等）<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术积累/">技术积累</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity3D优化/">Unity3D优化</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2018/04/24/UWA-Day-2018分享/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2014-2021 zhutaorun
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>





    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>